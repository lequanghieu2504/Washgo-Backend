# Railway-optimized application properties
# =======================
# = Server Configuration =
# =======================

server.port=${PORT:8080}

# ====================
# = Database Config   =
# ====================

spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/washgo}
spring.datasource.username=${DATABASE_USERNAME:postgres}
spring.datasource.password=${DATABASE_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}

# Jackson Serialization Configuration
spring.jackson.serialization.fail-on-empty-beans=false

# ==========================
# = JWT Configuration      =
# ==========================

jwt.current-secret=${JWT_CURRENT_SECRET:dXvZrrgLZhCxoQ1o3NKdnZGZgCOd08BtHOSdpZ50f5E=}
jwt.previous-secrets=${JWT_PREVIOUS_SECRETS:}
jwt.access.expiration=${JWT_ACCESS_EXPIRATION:3600000}
jwt.refresh.expiration=${JWT_REFRESH_EXPIRATION:604800000}

# ==========================
# = Spring Security         =
# ==========================

spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${JWK_SET_URI:https://your-backend-url.railway.app/.well-known/jwks.json}

# ====================
# = JPA Configuration =
# ====================

spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
spring.jpa.open-in-view=false
spring.jpa.show-sql=${SHOW_SQL:false}

# ====================
# = Logging           =
# ====================

logging.level.org.springframework=${LOG_LEVEL:INFO}
logging.level.org.hibernate.SQL=${HIBERNATE_LOG_LEVEL:WARN}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${HIBERNATE_BINDER_LOG_LEVEL:WARN}

# ==========================
# = File Storage           =
# ==========================

file.storage.root=${FILE_STORAGE_ROOT:./uploads}
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=55MB
spring.web.resources.static-locations=classpath:/static/,file:${file.storage.root}/
spring.web.resources.cache.period=31536000

# ==========================
# = Error Handling         =
# ==========================

server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-exception=${INCLUDE_EXCEPTION:false}

# ==========================
# = Google OAuth Config    =
# ==========================

google.client-id=${GOOGLE_CLIENT_ID:822791542373-fca0slo8s5pekqgocnbencubnrkvqns2.apps.googleusercontent.com}
google.client-secret=${GOOGLE_CLIENT_SECRET:}
google.redirect-uri=${GOOGLE_REDIRECT_URI:https://your-backend-url.railway.app/auth/google/callbackFromGoogle}
google.token-uri=https://oauth2.googleapis.com/token
google.userinfo-uri=https://www.googleapis.com/oauth2/v3/userinfo
google.authorization-uri=https://accounts.google.com/o/oauth2/auth
google.refreshToken=${GOOGLE_REFRESH_TOKEN:}

# ==========================
# = Stripe Configuration   =
# ==========================

stripe.secret.key=${STRIPE_SECRET_KEY:}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET:}

# ==========================
# = SMTP Configuration     =
# ==========================

spring.mail.host=${SMTP_HOST:smtp.gmail.com}
spring.mail.port=${SMTP_PORT:587}
spring.mail.username=${SMTP_USERNAME:}
spring.mail.password=${SMTP_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true